import{d as v,r as u,a as g,o as h,c as w,b as t,w as c,v as m,e as _,f as x,g as I,E as l,h as k,p as y,i as S,_ as C}from"./index-DuB4n2yr.js";import{_ as E}from"./sign_background-Ccb_4d9-.js";import{m as V}from"./index-BjJ2-QAr.js";import{a as D}from"./axios-B4uVmeYG.js";const p=o=>(y("data-v-ad4f3f92"),o=o(),S(),o),U={class:"container"},b=p(()=>t("img",{src:E},null,-1)),B={class:"signin-wrapper"},N=p(()=>t("h1",{class:"header"}," 登录 ",-1)),T={class:"form-wrapper"},M=p(()=>t("h2",{class:"input-title"},"用户名",-1)),$=p(()=>t("h2",{class:"input-title"},"密码",-1)),A={class:"msg"},F=v({__name:"index",setup(o){const d=V(),s=u(""),r=u(""),f=()=>{if(s.value===""||r.value===""){l({message:"用户名和密码不能为空",type:"error",duration:5*1e3,grouping:!0});return}let n=new FormData;n.append("username",s.value),n.append("password",r.value),D({method:"post",url:`${d.ipAddress}/api/signIn`,data:n,headers:{"Content-Type":"multipart/form-data"}}).then(e=>{let a=e.data;a.ret===0?(d.setUsername(s.value),localStorage.setItem("username",s.value),k.push({path:"/Edit"})):a.ret===1&&l({message:"登录失败："+a.msg,type:"error",duration:5*1e3,grouping:!0})}).catch(e=>{console.error("Error posting data:",e),l({message:"登录失败：网络错误，请稍后重试！",type:"error",duration:5*1e3,grouping:!0})})};return(n,e)=>{const a=g("router-link");return h(),w("div",U,[b,t("div",B,[N,t("div",T,[M,c(t("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=i=>s.value=i),placeholder:"请输入用户名",class:"input-item"},null,512),[[m,s.value]]),$,c(t("input",{type:"password","onUpdate:modelValue":e[1]||(e[1]=i=>r.value=i),placeholder:"请输入密码",class:"input-item"},null,512),[[m,r.value]]),t("button",{onClick:e[2]||(e[2]=i=>f()),class:"btn"}," 登录 ")]),t("div",A,[_(" 没有账户？ "),x(a,{to:"/SignUp",class:"link"},{default:I(()=>[_("立即注册")]),_:1})])])])}}}),H=C(F,[["__scopeId","data-v-ad4f3f92"]]);export{H as default};
