import{d as f,r as u,a as w,o as x,c as y,b as s,w as c,v as m,e as v,f as k,g as U,E as d,h as V,p as b,i as C,_ as I}from"./index-DuB4n2yr.js";import{_ as S}from"./sign_background-Ccb_4d9-.js";import{a as D}from"./axios-B4uVmeYG.js";import{m as E}from"./index-BjJ2-QAr.js";const l=p=>(b("data-v-6356b5f4"),p=p(),C(),p),B={class:"container"},N=l(()=>s("img",{src:S},null,-1)),T={class:"signin-wrapper"},M=l(()=>s("h1",{class:"header"}," 注册 ",-1)),$={class:"form-wrapper"},A=l(()=>s("h2",{class:"input-title"},"用户名",-1)),F=l(()=>s("h2",{class:"input-title"},"密码",-1)),j=l(()=>s("h2",{class:"input-title"},"确认密码",-1)),q={class:"msg"},z=f({__name:"index",setup(p){const _=E(),t=u(""),o=u(""),r=u(""),g=()=>{if(t.value===""||o.value===""||r.value===""){d({message:"用户名和密码不能为空",type:"error",duration:5*1e3,grouping:!0});return}console.log("password1:",o),console.log("password2:",r),o.value!==r.value?d({message:"输入密码不一致",type:"error",duration:5*1e3,grouping:!0}):h()},h=()=>{let i=new FormData;i.append("username",t.value),i.append("password",o.value),D({method:"post",url:`${_.ipAddress}/api/signUp`,data:i,headers:{"Content-Type":"multipart/form-data"}}).then(e=>{let n=e.data;n.ret===0?(_.setUsername(t.value),localStorage.setItem("username",t.value),V.push({path:"/"})):n.ret===1&&d({message:"注册失败："+n.msg,type:"error",duration:5*1e3,grouping:!0})}).catch(e=>{console.error("Error posting data:",e),d({message:"注册失败：网络错误，请稍后重试！",type:"error",duration:5*1e3,grouping:!0})})};return(i,e)=>{const n=w("router-link");return x(),y("div",B,[N,s("div",T,[M,s("div",$,[A,c(s("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=a=>t.value=a),placeholder:"请输入用户名",class:"input-item"},null,512),[[m,t.value]]),F,c(s("input",{type:"password","onUpdate:modelValue":e[1]||(e[1]=a=>o.value=a),placeholder:"请输入密码",class:"input-item"},null,512),[[m,o.value]]),j,c(s("input",{type:"password","onUpdate:modelValue":e[2]||(e[2]=a=>r.value=a),placeholder:"请再次输入密码",class:"input-item"},null,512),[[m,r.value]]),s("button",{onClick:e[3]||(e[3]=a=>g()),class:"btn"}," 注册 ")]),s("div",q,[v(" 已有账户？ "),k(n,{to:"/",class:"link"},{default:U(()=>[v("立即登录")]),_:1})])])])}}}),L=I(z,[["__scopeId","data-v-6356b5f4"]]);export{L as default};
